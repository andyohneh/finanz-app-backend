<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Chart-Isolationstest</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body style="background-color: #121212;">

    <h1 style="color: white; text-align: center;">Minimaler Chart-Test</h1>
    <div id="chart-container" style="width: 80%; height: 500px; margin: 20px auto; border: 1px solid grey;"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Test-Seite geladen. Versuche Chart zu erstellen...');
            
            const chartContainer = document.getElementById('chart-container');
            
            if (!window.LightweightCharts) {
                console.error('LightweightCharts ist nicht verfügbar!');
                chartContainer.innerText = 'Fehler: Die Chart-Bibliothek konnte nicht geladen werden.';
                return;
            }

            try {
                const chart = LightweightCharts.createChart(chartContainer, {
                    layout: { backgroundColor: '#1E1E1E', textColor: '#D1D4DC' },
                    grid: { vertLines: { color: '#333' }, horzLines: { color: '#333' } }
                });

                const candlestickSeries = chart.addCandlestickSeries();

                // Hardcodierte Test-Daten
                const testData = [
                    { time: '2024-07-01', open: 170.34, high: 171.80, low: 169.22, close: 171.66 },
                    { time: '2024-07-02', open: 171.66, high: 174.34, low: 170.76, close: 174.33 },
                    { time: '2024-07-03', open: 174.33, high: 175.46, low: 172.67, close: 174.54 },
                    { time: '2024-07-04', open: 174.54, high: 178.49, low: 174.21, close: 177.57 },
                    { time: '2024-07-05', open: 177.57, high: 180.23, low: 177.07, close: 179.56 }
                ];

                candlestickSeries.setData(testData);

                console.log('✅ Chart sollte jetzt sichtbar sein!');

            } catch (e) {
                console.error('Ein FEHLER ist beim Erstellen des Charts aufgetreten:', e);
                chartContainer.innerText = `Fehler: ${e.message}`;
            }
        });
    </script>
</body>
</html>
